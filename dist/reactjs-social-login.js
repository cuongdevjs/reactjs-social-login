var e,t=require("react"),o=(e=t)&&"object"==typeof e&&"default"in e?e.default:e;function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var i=window,a=t.memo(function(e){var r=e.state,a=void 0===r?"":r,c=e.client_id,s=e.className,d=e.redirect_uri,l=e.scope,u=void 0===l?"profile":l,p=e.isOnlyGetToken,f=void 0!==p&&p,m=e.scope_data,h=void 0===m?{profile:{essential:!0}}:m,v=e.response_type,g=void 0===v?"token":v,w=e.children,_=e.onReject,k=e.onResolve,b=e.onLoginStart,y=t.useRef(null),C=t.useState(!1),S=C[0],E=C[1];t.useEffect(function(){!S&&T()},[S]),t.useEffect(function(){return function(){y.current&&y.current.remove()}},[]);var P=t.useCallback(function(){return!!document.getElementById("amazon-login")},[]),j=t.useCallback(function(e,t,o,n,r){void 0===t&&(t="script");var i=e.createElement(t);i.id=o,i.src=n,i.async=!0,i.defer=!0;var a=document.getElementsByTagName("script")[0];y.current=i,a&&a.parentNode&&a.parentNode.insertBefore(i,a),i.onload=r},[]),L=t.useCallback(function(e){try{return fetch("https://api.amazon.com/user/profile",{headers:{Authorization:"Bearer "+e.access_token}}).then(function(e){return e.json()}).then(function(t){k({provider:"amazon",data:n({},t,e)})}).catch(function(e){_(e)}).finally(function(){}),Promise.resolve()}catch(e){return Promise.reject(e)}},[_,k]),I=t.useCallback(function(e){f?k({provider:"amazon",data:n({},e)}):L(e)},[L,k,f]),R=t.useCallback(function(e){_(e)},[_]),T=t.useCallback(function(){P()?E(!0):j(document,"script","amazon-login","https://assets.loginwithamazon.com/sdk/na/login1.js",function(){i.amazon.Login.setClientId(c),E(!0)})},[P,c,j]),N=t.useCallback(function(){S&&(i.amazon?(b&&b(),i.amazon.Login.authorize({scope:u,scope_data:h,response_type:g,redirect_uri:d,state:a},function(e){e.error?R(e.error):I(e)})):(T(),_("Google SDK isn't loaded!")))},[T,u,a,_,h,S,R,b,d,g,I]);return o.createElement("div",{className:s,onClick:N},w)}),c=window,s=t.memo(function(e){var r=e.appId,i=e.configId,a=void 0===i?"":i,s=e.scope,d=void 0===s?"email,public_profile":s,l=e.state,u=void 0===l||l,p=e.xfbml,f=void 0===p||p,m=e.cookie,h=void 0===m||m,v=e.version,g=void 0===v?"v2.7":v,w=e.language,_=void 0===w?"en_EN":w,k=e.auth_type,b=void 0===k?"":k,y=e.className,C=e.onLoginStart,S=e.onReject,E=e.onResolve,P=e.redirect_uri,j=e.fieldsProfile,L=void 0===j?"id,first_name,last_name,middle_name,name,name_format,picture,short_name,email,gender":j,I=e.response_type,R=void 0===I?"code":I,T=e.return_scopes,N=void 0===T||T,z=e.isOnlyGetToken,x=void 0!==z&&z,G=e.children,O=t.useRef(null),B=t.useState(!1),A=B[0],U=B[1],F=t.useState(!1),D=F[0],H=F[1];t.useEffect(function(){!A&&Q()},[A]),t.useEffect(function(){return function(){O.current&&O.current.remove()}},[]);var q=t.useCallback(function(e,t){var o=e.createElement("script");o.id="facebook-jssdk",o.src="https://connect.facebook.net/en_EN/sdk.js";var n=e.getElementsByTagName("script")[0];n&&n.parentNode&&n.parentNode.insertBefore(o,n),t()},[]),K=t.useCallback(function(){return!!document.getElementById("facebook-jssdk")},[]),M=t.useCallback(function(e,t){var o=window;o.fbAsyncInit=function(){o.FB&&o.FB.init(n({},e)),U(!0);var r=t.getElementById("fb-root");r||((r=t.createElement("div")).id="fb-root",t.body.appendChild(r)),O.current=r}},[]),J=t.useCallback(function(e){c.FB.api("/me",{locale:_,fields:L},function(t){E({provider:"facebook",data:n({},e,t)})})},[L,_,E]),$=t.useCallback(function(e){e.authResponse?x?E({provider:"facebook",data:n({},e.authResponse)}):J(e.authResponse):S(e),H(!1)},[J,x,S,E]),Q=t.useCallback(function(){K()?U(!0):q(document,function(){M({appId:r,xfbml:f,version:g,state:u,cookie:h,redirect_uri:P,response_type:R},document)})},[u,r,f,h,g,M,P,R,q,K]),V=t.useCallback(function(){if(A&&!D)if(c.FB){H(!0),C&&C();var e={scope:d,return_scopes:N,auth_type:b};a&&(e.config_id=a),c.FB.login($,e)}else Q(),S("Fb isn't loaded!"),H(!1)},[Q,a,d,S,b,A,C,D,N,$]);return o.createElement("div",{className:y,onClick:V},G)}),d="875c0462-6309-4ddf-9889-5227b1acc82c",l=window,u=t.memo(function(e){var r=e.client_id,i=e.scope,a=void 0===i?"https://www.googleapis.com/auth/userinfo.profile":i,c=e.prompt,s=void 0===c?"select_account":c,u=e.typeResponse,p=void 0===u?"accessToken":u,f=e.ux_mode,m=e.className,h=void 0===m?"":m,v=e.login_hint,g=void 0===v?"":v,w=e.access_type,_=void 0===w?"online":w,k=e.onLoginStart,b=e.onReject,y=e.onResolve,C=e.redirect_uri,S=void 0===C?"/":C,E=e.auto_select,P=void 0!==E&&E,j=e.isOnlyGetToken,L=void 0!==j&&j,I=e.cookie_policy,R=void 0===I?"single_host_origin":I,T=e.hosted_domain,N=void 0===T?"":T,z=e.discoveryDocs,x=void 0===z?"":z,G=e.children,O=e.fetch_basic_profile,B=void 0===O||O,A=t.useRef(null),U=t.useState(!1),F=U[0],D=U[1],H=t.useState(null),q=H[0],K=H[1];t.useEffect(function(){!F&&W()},[F]),t.useEffect(function(){return function(){A.current&&A.current.remove()}},[]);var M=t.useCallback(function(){return!!document.getElementById("google-login")},[]),J=t.useCallback(function(e,t,o,n,r){void 0===t&&(t="script");var i=e.createElement(t);i.id=o,i.src=n,i.async=!0,i.defer=!0;var a=document.getElementsByTagName("script")[0];A.current=i,a&&a.parentNode&&a.parentNode.insertBefore(i,a),i.onload=r},[]),$=t.useCallback(function(e){if("accessToken"===p){var t=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":d,Authorization:"Bearer "+e.access_token});fetch("https://cors.bridged.cc/https://www.googleapis.com/oauth2/v3/userinfo?alt=json",{method:"GET",headers:t}).then(function(e){return e.json()}).then(function(t){var o=n({},e,t);y({provider:"google",data:o})}).catch(function(e){b(e)})}else fetch("https://www.googleapis.com/oauth2/v3/tokeninfo?id_token="+e.credential,{method:"GET"}).then(function(e){return e.json()}).then(function(t){var o=n({},e,t);y({provider:"google",data:o})}).catch(function(e){b(e)})},[p,b,y]),Q=t.useCallback(function(e){e&&"offline"===_||L?y({provider:"google",data:e}):$(e)},[_,L,$,y]),V=t.useCallback(function(e){b({provider:"google",data:e})},[b]),W=t.useCallback(function(){M()?D(!0):J(document,"script","google-login","https://accounts.google.com/gsi/client",function(){var e={client_id:r,ux_mode:f},t=null;if("idToken"===p)l.google.accounts.id.initialize(n({},e,{auto_select:P,prompt:"select_account",login_uri:S,callback:Q,native_callback:Q,error_callback:V}));else{var o=n({},e,{scope:a,prompt:s,login_hint:g,access_type:_,hosted_domain:N,redirect_uri:S,cookie_policy:R,discoveryDocs:x,immediate:!0,fetch_basic_profile:B,callback:Q,error_callback:V});t="offline"===_?l.google.accounts.oauth2.initCodeClient(o):l.google.accounts.oauth2.initTokenClient(o)}t&&K(t),D(!0)})},[a,s,f,r,g,P,_,S,p,x,R,N,Q,V,B,J,M]),X=t.useCallback(function(){F&&(l.google?(k&&k(),q?"offline"===_?q.requestCode():q.requestAccessToken():l.google.accounts.id.prompt()):(W(),b("Google SDK isn't loaded!")))},[_,q,F,W,k,b]);return o.createElement("div",{className:h,onClick:X},G)}),p=t.memo(function(e){var i=e.state,a=void 0===i?"":i,c=e.scope,s=void 0===c?"repo,gist":c,l=e.client_id,u=e.client_secret,p=e.className,f=void 0===p?"":p,m=e.redirect_uri,h=e.allow_signup,v=void 0!==h&&h,g=e.isOnlyGetToken,w=void 0!==g&&g,_=e.isOnlyGetCode,k=void 0!==_&&_,b=e.children,y=e.onReject,C=e.onResolve,S=e.onLoginStart;t.useEffect(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_github")&&t&&(localStorage.setItem("github",t),window.close())},[]);var E=t.useCallback(function(e){fetch("https://cors.bridged.cc/https://api.github.com//user",{method:"GET",headers:{Authorization:"token "+e.access_token,"x-cors-grida-api-key":d}}).then(function(e){return e.json()}).then(function(t){C({provider:"github",data:n({},t,e)})}).catch(function(e){y(e)})},[y,C]),P=t.useCallback(function(e){if(k)C({provider:"github",data:{code:e}});else{var t={code:e,state:a,redirect_uri:m,client_id:l,client_secret:u},o=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":d});fetch("https://cors.bridged.cc/https://github.com/login/oauth/access_token",{method:"POST",headers:o,body:new URLSearchParams(t)}).then(function(e){return e.text()}).then(function(e){for(var t,o={},n=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(o)return(o=o.call(e)).next.bind(o);if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,void 0):void 0}}(e))){o&&(e=o);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(new URLSearchParams(e));!(t=n()).done;){var i=t.value;o[i[0]]=i[1]}o.access_token?w?C({provider:"github",data:o}):E(o):y("no data")}).catch(function(e){y(e)})}},[a,y,E,C,l,m,u,k,w]),j=t.useCallback(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"github"===n&&o&&P(o))}catch(e){return Promise.reject(e)}},[P]),L=t.useCallback(function(){window.removeEventListener("storage",L,!1);var e=localStorage.getItem("github");e&&(j({provider:"github",type:"code",code:e}),localStorage.removeItem("github"))},[j]),I=t.useCallback(function(){S&&S(),window.addEventListener("storage",L,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://github.com/login/oauth/authorize?client_id="+l+"&scope="+s+"&state="+a+"_github&redirect_uri="+m+"&allow_signup="+v,"Github","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[s,a,l,m,v,S,L]);return o.createElement("div",{className:f,onClick:I},b)}),f=t.memo(function(e){var r=e.state,i=void 0===r?"":r,a=e.client_id,c=e.client_secret,s=e.className,l=e.redirect_uri,u=e.fields,p=void 0===u?"id,username,account_type,media_count":u,f=e.scope,m=void 0===f?"user_profile,user_media":f,h=e.response_type,v=void 0===h?"code":h,g=e.isOnlyGetCode,w=void 0!==g&&g,_=e.isOnlyGetToken,k=void 0!==_&&_,b=e.children,y=e.onReject,C=e.onResolve,S=e.onLoginStart;t.useEffect(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_instagram")&&t&&(localStorage.setItem("instagram",t),window.close())},[]);var E=t.useCallback(function(e){fetch("https://cors.bridged.cc/https://graph.instagram.com//me?fields="+p+"&access_token="+e.access_token,{method:"GET",headers:{"x-cors-grida-api-key":d}}).then(function(e){return e.json()}).then(function(t){C({provider:"instagram",data:n({},t,e)})}).catch(function(e){y(e)})},[p,y,C]),P=t.useCallback(function(e){if(w)C({provider:"instagram",data:{code:e}});else{var t={grant_type:"authorization_code",code:e,redirect_uri:l,client_id:a,client_secret:c},o=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":d});fetch("https://cors.bridged.cc/https://api.instagram.com/oauth/access_token",{method:"POST",headers:o,body:new URLSearchParams(t)}).then(function(e){return e.json()}).then(function(e){e.access_token?k?C({provider:"instagram",data:e}):E(e):y("no data")}).catch(function(e){y(e)}).finally(function(){})}},[y,C,E,a,l,c,w,k]),j=t.useCallback(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"instagram"===n&&o&&P(o))}catch(e){return Promise.reject(e)}},[P]),L=t.useCallback(function(){window.removeEventListener("storage",L,!1);var e=localStorage.getItem("instagram");e&&(j({provider:"instagram",type:"code",code:e}),localStorage.removeItem("instagram"))},[j]),I=t.useCallback(function(){S&&S(),window.addEventListener("storage",L,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://api.instagram.com/oauth/authorize?response_type="+v+"&client_id="+a+"&scope="+m+"&state="+i+"_instagram&redirect_uri="+l,"Instagram","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[m,i,a,l,S,v,L]);return o.createElement("div",{className:s,onClick:I},b)}),m=t.memo(function(e){var r=e.tenant,i=void 0===r?"common":r,a=e.state,c=void 0===a?"":a,s=e.client_id,d=e.className,l=e.redirect_uri,u=e.scope,p=void 0===u?"profile openid email":u,f=e.response_type,m=void 0===f?"code":f,h=e.response_mode,v=void 0===h?"query":h,g=e.children,w=e.code_challenge,_=void 0===w?"19cfc47c216dacba8ca23eeee817603e2ba34fe0976378662ba31688ed302fa9":w,k=e.code_challenge_method,b=void 0===k?"plain":k,y=e.prompt,C=void 0===y?"select_account":y,S=e.isOnlyGetCode,E=void 0!==S&&S,P=e.isOnlyGetToken,j=void 0!==P&&P,L=e.onLoginStart,I=e.onReject,R=e.onResolve;t.useEffect(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_microsoft")&&t&&(localStorage.setItem("microsoft",t),window.close())},[]);var T=t.useCallback(function(e){fetch("https://graph.microsoft.com/v1.0/me",{method:"GET",headers:{Authorization:"Bearer "+e.access_token}}).then(function(e){return e.json()}).then(function(t){R({provider:"microsoft",data:n({},t,e)})}).catch(function(e){I(e)})},[I,R]),N=t.useCallback(function(e){if(E)R({provider:"microsoft",data:{code:e}});else{var t={code:e,scope:p,client_id:s,redirect_uri:l,code_verifier:_,grant_type:"authorization_code"},o=new Headers({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"});fetch("https://login.microsoftonline.com/"+i+"/oauth2/v2.0/token",{method:"POST",headers:o,body:new URLSearchParams(t)}).then(function(e){return e.json()}).then(function(e){e.access_token?j?R({provider:"microsoft",data:e}):T(e):I("no data")}).catch(function(e){I(e)})}},[p,i,I,T,s,R,l,_,E,j]),z=t.useCallback(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"microsoft"===n&&o&&N(o))}catch(e){return Promise.reject(e)}},[N]),x=t.useCallback(function(){window.removeEventListener("storage",x,!1);var e=localStorage.getItem("microsoft");e&&(z({provider:"microsoft",type:"code",code:e}),localStorage.removeItem("microsoft"))},[z]),G=t.useCallback(function(){L&&L(),window.addEventListener("storage",x,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://login.microsoftonline.com/"+i+"/oauth2/v2.0/authorize?client_id="+s+"\n        &response_type="+m+"\n        &redirect_uri="+l+"\n        &response_mode="+v+"\n        &scope="+p+"\n        &state="+c+"_microsoft\n        &prompt="+C+"\n        &code_challenge="+_+"\n        &code_challenge_method="+b,"Microsoft","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[p,c,C,i,s,L,l,v,m,_,x,b]);return o.createElement("div",{className:d,onClick:G},g)}),h=t.memo(function(e){var r=e.state,i=void 0===r?"":r,a=e.scope,c=void 0===a?"r_liteprofile":a,s=e.client_id,l=e.client_secret,u=e.className,p=void 0===u?"":u,f=e.redirect_uri,m=e.response_type,h=void 0===m?"code":m,v=e.isOnlyGetCode,g=void 0!==v&&v,w=e.isOnlyGetToken,_=void 0!==w&&w,k=e.children,b=e.onLoginStart,y=e.onReject,C=e.onResolve;t.useEffect(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_linkedin")&&t&&(localStorage.setItem("linkedin",t),window.close())},[]);var S=t.useCallback(function(e){fetch("https://api.allorigins.win/get?url="+encodeURIComponent("https://api.linkedin.com/v2/me?oauth2_access_token="+e.access_token+"&projection=(id,profilePicture(displayImage~digitalmediaAsset:playableStreams),localizedLastName, firstName,lastName,localizedFirstName)"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var o=n({},e);if(t.contents){var r=JSON.parse(t.contents);"object"==typeof e&&Object.entries(r).map(function(e){o[e[0]]=e[1]})}C({provider:"linkedin",data:o})}).catch(function(e){y(e)})},[y,C]),E=t.useCallback(function(e){if(g)C({provider:"linkedin",data:{code:e}});else{var t={code:e,grant_type:"authorization_code",redirect_uri:f,client_id:s,client_secret:l},o=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":d});fetch("https://cors.bridged.cc/https://www.linkedin.com/oauth/v2/accessToken",{method:"POST",headers:o,body:new URLSearchParams(t)}).then(function(e){return e.json()}).then(function(e){_?C({provider:"linkedin",data:e}):S(e)}).catch(function(e){y(e)})}},[y,C,s,S,f,l,g,_]),P=t.useCallback(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"linkedin"===n&&o&&E(o))}catch(e){return Promise.reject(e)}},[E]),j=t.useCallback(function(){window.removeEventListener("storage",j,!1);var e=localStorage.getItem("linkedin");e&&(P({provider:"linkedin",type:"code",code:e}),localStorage.removeItem("linkedin"))},[P]),L=t.useCallback(function(){b&&b(),window.addEventListener("storage",j,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.linkedin.com/oauth/v2/authorization?response_type="+h+"&client_id="+s+"&scope="+c+"&state="+i+"_linkedin&redirect_uri="+f,"Linkedin","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[b,j,h,s,c,i,f]);return o.createElement("div",{className:p,onClick:L},k)}),v=t.memo(function(e){var r=e.state,i=void 0===r?"":r,a=e.scope,c=void 0===a?"boards:read,pins:read,user_accounts:read":a,s=e.client_id,l=e.client_secret,u=e.className,p=void 0===u?"":u,f=e.redirect_uri,m=e.isOnlyGetCode,h=void 0!==m&&m,v=e.isOnlyGetToken,g=void 0!==v&&v,w=e.children,_=e.onLoginStart,k=e.onReject,b=e.onResolve;t.useEffect(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_pinterest")&&t&&(localStorage.setItem("pinterest",t),window.close())},[]);var y=t.useCallback(function(e){fetch("https://cors.bridged.cc/https://api.pinterest.com/v5/user_account",{method:"GET",headers:{Authorization:"Bearer "+e.access_token,"x-cors-grida-api-key":d}}).then(function(e){return e.json()}).then(function(t){b({provider:"pinterest",data:n({},e,t)})}).catch(function(e){return k(e)})},[k,b]),C=t.useCallback(function(e){try{var t=function(){if(!h){var t={code:e,redirect_uri:f,grant_type:"authorization_code"},o=[];for(var n in t){var r=encodeURIComponent(n),i=encodeURIComponent(t[n]);o.push(r+"="+i)}return o=o.join("&"),Promise.resolve(fetch("https://cors.bridged.cc/https://api.pinterest.com/v5/oauth/token",{method:"POST",headers:{Authorization:"Basic "+btoa(s+":"+l),"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":d},body:o}).then(function(e){return e.json()}).catch(function(e){return k(e)})).then(function(e){e.access_token&&(g?b({provider:"pinterest",data:e}):y(e))})}b({provider:"pinterest",data:{code:e}})}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},[k,s,y,b,f,l,h,g]),S=t.useCallback(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"pinterest"===n&&o&&C(o))}catch(e){return Promise.reject(e)}},[C]),E=t.useCallback(function(){window.removeEventListener("storage",E,!1);var e=localStorage.getItem("pinterest");e&&(S({provider:"pinterest",type:"code",code:e}),localStorage.removeItem("pinterest"))},[S]),P=t.useCallback(function(){_&&_(),window.addEventListener("storage",E,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.pinterest.com/oauth/?client_id="+s+"&scope="+c+"&state="+i+"_pinterest&redirect_uri="+f+"&response_type=code","Pinterest","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[c,i,s,f,_,E]);return o.createElement("div",{className:p,onClick:P},w)}),g=t.memo(function(e){var r=e.client_id,i=e.className,a=void 0===i?"":i,c=e.redirect_uri,s=e.children,l=e.fields,u=void 0===l?"created_at,description,entities,id,location,name,pinned_tweet_id,profile_image_url,protected,public_metrics,url,username,verified,withheld":l,p=e.state,f=void 0===p?"state":p,m=e.scope,h=void 0===m?"users.read%20tweet.read":m,v=e.isOnlyGetCode,g=void 0!==v&&v,w=e.isOnlyGetToken,_=void 0!==w&&w,k=e.onLoginStart,b=e.onReject,y=e.onResolve;t.useEffect(function(){var e=new URL(window.location.href),t=e.searchParams.get("code");e.searchParams.get("state")&&t&&(localStorage.setItem("twitter",""+t),window.close())},[]);var C=t.useCallback(function(e){fetch("https://cors.bridged.cc/https://api.twitter.com/2/users/me?user.fields="+u,{method:"GET",headers:{Authorization:"Bearer "+e.access_token,"x-cors-grida-api-key":d}}).then(function(e){return e.json()}).then(function(t){y({provider:"twitter",data:n({},e,t.data)})}).catch(function(e){return b(e)})},[u,b,y]),S=t.useCallback(function(e){try{var t=function(){if(!g){var t=new URLSearchParams({code:e,redirect_uri:c,client_id:r,grant_type:"authorization_code",code_verifier:"challenge"});return Promise.resolve(fetch("https://cors.bridged.cc/https://api.twitter.com/2/oauth2/token",{method:"POST",body:t,headers:{"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":d}}).then(function(e){return e.json()}).catch(function(e){return b(e)})).then(function(e){e.access_token&&(_?y({provider:"twitter",data:e}):C(e))})}y({provider:"twitter",data:{code:e}})}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},[b,C,y,r,c,g,_]),E=t.useCallback(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"twitter"===n&&o&&S(o))}catch(e){return Promise.reject(e)}},[S]),P=t.useCallback(function(){window.removeEventListener("storage",P,!1);var e=localStorage.getItem("twitter");e&&(E({provider:"twitter",type:"code",code:e}),localStorage.removeItem("twitter"))},[E]),j=t.useCallback(function(){try{k&&k(),window.addEventListener("storage",P,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;return window.open("https://twitter.com/i/oauth2/authorize?response_type=code&client_id="+r+"&redirect_uri="+c+"&scope="+h+"&state="+f+"&code_challenge=challenge&code_challenge_method=plain","twitter","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e),Promise.resolve()}catch(e){return Promise.reject(e)}},[h,f,r,k,c,P]);return o.createElement("div",{className:a,onClick:j},s)});"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var w=window,_=t.memo(function(e){var n=e.client_id,r=e.scope,i=void 0===r?"name email":r,a=e.className,c=void 0===a?"":a,s=e.onLoginStart,d=e.onReject,l=e.onResolve,u=e.redirect_uri,p=void 0===u?"/":u,f=e.children,m=t.useRef(null),h=t.useState(!1),v=h[0],g=h[1];t.useEffect(function(){!v&&y()},[v]),t.useEffect(function(){return function(){m.current&&m.current.remove()}},[]);var _=t.useCallback(function(){return!!document.getElementById("apple-login")},[]),k=t.useCallback(function(e,t,o,n,r){void 0===t&&(t="script");var i=e.createElement(t);i.id=o,i.src=n,i.async=!0,i.defer=!0;var a=document.getElementsByTagName("script")[0];m.current=i,a&&a.parentNode&&a.parentNode.insertBefore(i,a),i.onload=r},[]),b=t.useCallback(function(e){l({provider:"apple",data:e})},[l]),y=t.useCallback(function(){_()?g(!0):k(document,"script","apple-login","https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",function(){w.AppleID.auth.init({clientId:n,scope:i,redirectURI:p,state:"origin:web",usePopup:!0}),g(!0)})},[i,n,p,k,_]),C=t.useCallback(function(){try{if(!v)return Promise.resolve();var e=function(){if(w.AppleID){s&&s();var e=function(e,t){try{var o=Promise.resolve(w.AppleID.auth.signIn()).then(function(e){b(e)})}catch(e){return t(e)}return o&&o.then?o.then(void 0,t):o}(0,function(e){d({err:e})});if(e&&e.then)return e.then(function(){})}else y(),d("Apple SDK isn't loaded!")}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},[b,v,y,s,d]);return o.createElement("div",{className:c,onClick:C},f)}),k=t.memo(function(e){var n=e.state,r=void 0===n?"":n,i=e.scope,a=void 0===i?"user.info.basic":i,c=e.client_key,s=e.className,d=void 0===s?"":s,l=e.redirect_uri,u=e.children,p=e.onResolve,f=e.onLoginStart;t.useEffect(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_tiktok")&&t&&(localStorage.setItem("tiktok",t),window.close())},[]);var m=t.useCallback(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"tiktok"===n&&o&&p({provider:"tiktok",data:{code:o}}))}catch(e){return Promise.reject(e)}},[p]),h=t.useCallback(function(){window.removeEventListener("storage",h,!1);var e=localStorage.getItem("tiktok");e&&(m({provider:"tiktok",type:"code",code:e}),localStorage.removeItem("instagram"))},[m]),v=t.useCallback(function(){f&&f(),window.addEventListener("storage",h,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.tiktok.com/auth/authorize?client_key="+c+"&scope="+a+"&state="+r+"_tiktok&redirect_uri="+l+"&response_type=code","Github","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[a,r,c,l,f,h]);return o.createElement("div",{className:d,onClick:v},u)});exports.LoginSocialAmazon=a,exports.LoginSocialApple=_,exports.LoginSocialFacebook=s,exports.LoginSocialGithub=p,exports.LoginSocialGoogle=u,exports.LoginSocialInstagram=f,exports.LoginSocialLinkedin=h,exports.LoginSocialMicrosoft=m,exports.LoginSocialPinterest=v,exports.LoginSocialTiktok=k,exports.LoginSocialTwitter=g;
