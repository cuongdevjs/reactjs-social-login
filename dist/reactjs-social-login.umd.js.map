{"version":3,"file":"reactjs-social-login.umd.js","sources":["../src/LoginSocialAmazon/index.tsx","../src/LoginSocialFacebook/index.tsx","../src/LoginSocialGoogle/index.tsx","../src/helper/constants.ts","../src/LoginSocialGithub/index.tsx","../src/LoginSocialInstagram/index.tsx","../src/LoginSocialMicrosoft/index.tsx","../src/LoginSocialLinkedin/index.tsx","../src/LoginSocialPinterest/index.tsx","../src/LoginSocialTwitter/index.tsx","../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/LoginSocialApple/index.tsx","../src/LoginSocialTiktok/index.tsx"],"sourcesContent":["/* eslint-disable camelcase */\r\n/**\r\n *\r\n * LoginSocialAmazon\r\n *\r\n */\r\nimport React, { memo, useEffect, useState, useCallback, useRef } from 'react';\r\nimport { IResolveParams, objectType } from '../';\r\n\r\ninterface Props {\r\n  scope?: string;\r\n  state?: string;\r\n  client_id: string;\r\n  className?: string;\r\n  redirect_uri?: string;\r\n  response_type?: string;\r\n  scope_data?: objectType;\r\n  isOnlyGetToken?: boolean;\r\n  children?: React.ReactNode;\r\n  onLoginStart?: () => void;\r\n  onReject: (reject: string | objectType) => void;\r\n  onResolve: ({ provider, data }: IResolveParams) => void;\r\n}\r\n\r\nconst JS_SRC = 'https://assets.loginwithamazon.com/sdk/na/login1.js';\r\nconst SCRIPT_ID = 'amazon-login';\r\nconst _window = window as any;\r\n\r\nexport const LoginSocialAmazon = ({\r\n  state = '',\r\n  client_id,\r\n  className,\r\n  redirect_uri,\r\n  scope = 'profile',\r\n  isOnlyGetToken: onlyGetToken = false,\r\n  scope_data = {\r\n    profile: { essential: true },\r\n  },\r\n  response_type = 'token',\r\n  children,\r\n  onReject,\r\n  onResolve,\r\n  onLoginStart,\r\n}: Props) => {\r\n  const scriptNodeRef = useRef<HTMLScriptElement>(null!);\r\n  const [isSdkLoaded, setIsSdkLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    !isSdkLoaded && load();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isSdkLoaded]);\r\n\r\n  useEffect(\r\n    () => () => {\r\n      if (scriptNodeRef.current) scriptNodeRef.current.remove();\r\n    },\r\n    [],\r\n  );\r\n\r\n  const checkIsExistsSDKScript = useCallback(() => {\r\n    return !!document.getElementById(SCRIPT_ID);\r\n  }, []);\r\n\r\n  const insertScriptGoogle = useCallback(\r\n    (\r\n      d: HTMLDocument,\r\n      s: string = 'script',\r\n      id: string,\r\n      jsSrc: string,\r\n      cb: () => void,\r\n    ) => {\r\n      const ggScriptTag: any = d.createElement(s);\r\n      ggScriptTag.id = id;\r\n      ggScriptTag.src = jsSrc;\r\n      ggScriptTag.async = true;\r\n      ggScriptTag.defer = true;\r\n      const scriptNode = document.getElementsByTagName('script')![0];\r\n      scriptNodeRef.current = ggScriptTag;\r\n      scriptNode &&\r\n        scriptNode.parentNode &&\r\n        scriptNode.parentNode.insertBefore(ggScriptTag, scriptNode);\r\n      ggScriptTag.onload = cb;\r\n    },\r\n    [],\r\n  );\r\n\r\n  const getUserInfo = useCallback(\r\n    async (res: objectType) => {\r\n      fetch(`https://api.amazon.com/user/profile`, {\r\n        headers: {\r\n          Authorization: `Bearer ${res.access_token}`,\r\n        },\r\n      })\r\n        .then(data => data.json())\r\n        .then(data => {\r\n          onResolve({ provider: 'amazon', data: { ...data, ...res } });\r\n        })\r\n        .catch(err => {\r\n          onReject(err);\r\n        })\r\n        .finally(() => {});\r\n    },\r\n    [onReject, onResolve],\r\n  );\r\n\r\n  const handleResponse = useCallback(\r\n    (res: objectType) => {\r\n      if (onlyGetToken) onResolve({ provider: 'amazon', data: { ...res } });\r\n      else getUserInfo(res);\r\n    },\r\n    [getUserInfo, onResolve, onlyGetToken],\r\n  );\r\n\r\n  const handleError = useCallback(\r\n    (err: objectType | string) => {\r\n      onReject(err);\r\n    },\r\n    [onReject],\r\n  );\r\n\r\n  const load = useCallback(() => {\r\n    if (checkIsExistsSDKScript()) {\r\n      setIsSdkLoaded(true);\r\n    } else {\r\n      insertScriptGoogle(document, 'script', SCRIPT_ID, JS_SRC, () => {\r\n        _window.amazon.Login.setClientId(client_id);\r\n        setIsSdkLoaded(true);\r\n      });\r\n    }\r\n  }, [checkIsExistsSDKScript, client_id, insertScriptGoogle]);\r\n\r\n  const onLogin = useCallback(() => {\r\n    if (!isSdkLoaded) return;\r\n    if (!_window.amazon) {\r\n      load();\r\n      onReject(\"Google SDK isn't loaded!\");\r\n    } else {\r\n      onLoginStart && onLoginStart();\r\n      _window.amazon.Login.authorize(\r\n        { scope, scope_data, response_type, redirect_uri, state },\r\n        (res: objectType) => {\r\n          if (res.error) handleError(res.error);\r\n          else handleResponse(res);\r\n        },\r\n      );\r\n    }\r\n  }, [\r\n    load,\r\n    scope,\r\n    state,\r\n    onReject,\r\n    scope_data,\r\n    isSdkLoaded,\r\n    handleError,\r\n    onLoginStart,\r\n    redirect_uri,\r\n    response_type,\r\n    handleResponse,\r\n  ]);\r\n\r\n  return (\r\n    <div className={className} onClick={onLogin}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(LoginSocialAmazon);\r\n","/* eslint-disable camelcase */\r\n/**\r\n *\r\n * LoginSocialFacebook\r\n *\r\n */\r\nimport React, { memo, useCallback, useEffect, useRef, useState } from 'react';\r\nimport { objectType, IResolveParams } from '../';\r\n\r\ninterface Props {\r\n  appId: string;\r\n  configId: string;\r\n  scope?: string;\r\n  state?: boolean;\r\n  xfbml?: boolean;\r\n  cookie?: boolean;\r\n  version?: string;\r\n  language?: string;\r\n  auth_type?: string;\r\n  className?: string;\r\n  isDisabled?: boolean;\r\n  isOnlyGetToken?: boolean;\r\n  onLoginStart?: () => void;\r\n  onLogoutSuccess?: () => void;\r\n  onReject: (reject: string | objectType) => void;\r\n  onResolve: ({ provider, data }: IResolveParams) => void;\r\n  redirect_uri?: string;\r\n  fieldsProfile?: string;\r\n  response_type?: string;\r\n  return_scopes?: boolean;\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst SDK_URL: string = 'https://connect.facebook.net/en_EN/sdk.js';\r\nconst SCRIPT_ID: string = 'facebook-jssdk';\r\nconst _window = window as any;\r\n\r\nconst LoginSocialFacebook = ({\r\n  appId,\r\n  configId = '',\r\n  scope = 'email,public_profile',\r\n  state = true,\r\n  xfbml = true,\r\n  cookie = true,\r\n  version = 'v2.7',\r\n  language = 'en_EN',\r\n  auth_type = '',\r\n  className,\r\n  onLoginStart,\r\n  onReject,\r\n  onResolve,\r\n  redirect_uri,\r\n  fieldsProfile = 'id,first_name,last_name,middle_name,name,name_format,picture,short_name,email,gender',\r\n  response_type = 'code',\r\n  return_scopes = true,\r\n  isOnlyGetToken = false,\r\n  children,\r\n}: Props) => {\r\n  const scriptNodeRef = useRef<HTMLElement>(null!);\r\n  const [isSdkLoaded, setIsSdkLoaded] = useState(false);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    !isSdkLoaded && load();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isSdkLoaded]);\r\n\r\n  useEffect(\r\n    () => () => {\r\n      if (scriptNodeRef.current) scriptNodeRef.current.remove();\r\n    },\r\n    [],\r\n  );\r\n\r\n  const insertSDKScript = useCallback(\r\n    (document: HTMLDocument, cb: () => void) => {\r\n      const fbScriptTag = document.createElement('script');\r\n      fbScriptTag.id = SCRIPT_ID;\r\n      fbScriptTag.src = SDK_URL;\r\n      const scriptNode = document.getElementsByTagName('script')![0];\r\n      scriptNode &&\r\n        scriptNode.parentNode &&\r\n        scriptNode.parentNode.insertBefore(fbScriptTag, scriptNode);\r\n      cb();\r\n    },\r\n    [],\r\n  );\r\n\r\n  const checkIsExistsSDKScript = useCallback(() => {\r\n    return !!document.getElementById(SCRIPT_ID);\r\n  }, []);\r\n\r\n  const initFbSDK = useCallback(\r\n    (config: objectType, document: HTMLDocument) => {\r\n      const _window = window as any;\r\n      _window.fbAsyncInit = function () {\r\n        _window.FB && _window.FB.init({ ...config });\r\n        setIsSdkLoaded(true);\r\n        let fbRoot = document.getElementById('fb-root');\r\n        if (!fbRoot) {\r\n          fbRoot = document.createElement('div');\r\n          fbRoot.id = 'fb-root';\r\n          document.body.appendChild(fbRoot);\r\n        }\r\n        scriptNodeRef.current = fbRoot;\r\n      };\r\n    },\r\n    [],\r\n  );\r\n\r\n  const getMe = useCallback(\r\n    (authResponse: objectType) => {\r\n      _window.FB.api(\r\n        '/me',\r\n        { locale: language, fields: fieldsProfile },\r\n        (me: any) => {\r\n          onResolve({\r\n            provider: 'facebook',\r\n            data: { ...authResponse, ...me },\r\n          });\r\n        },\r\n      );\r\n    },\r\n    [fieldsProfile, language, onResolve],\r\n  );\r\n\r\n  const handleResponse = useCallback(\r\n    (response: objectType) => {\r\n      if (response.authResponse) {\r\n        if (isOnlyGetToken)\r\n          onResolve({\r\n            provider: 'facebook',\r\n            data: { ...response.authResponse },\r\n          });\r\n        else getMe(response.authResponse);\r\n      } else {\r\n        onReject(response);\r\n      }\r\n      setIsProcessing(false);\r\n    },\r\n    [getMe, isOnlyGetToken, onReject, onResolve],\r\n  );\r\n\r\n  const load = useCallback(() => {\r\n    if (checkIsExistsSDKScript()) {\r\n      setIsSdkLoaded(true);\r\n    } else {\r\n      insertSDKScript(document, () => {\r\n        let options = {\r\n            appId,\r\n            xfbml,\r\n            version,\r\n            state,\r\n            cookie,\r\n            redirect_uri,\r\n            response_type,\r\n          };\r\n        if(configId){\r\n          options[\"configId\"] = configId;\r\n        }\r\n        initFbSDK(options,\r\n          document,\r\n        );\r\n      });\r\n    }\r\n  }, [\r\n    state,\r\n    appId,\r\n    configId,\r\n    xfbml,\r\n    cookie,\r\n    version,\r\n    initFbSDK,\r\n    redirect_uri,\r\n    response_type,\r\n    insertSDKScript,\r\n    checkIsExistsSDKScript,\r\n  ]);\r\n\r\n  const loginFB = useCallback(() => {\r\n    if (!isSdkLoaded || isProcessing) return;\r\n\r\n    if (!_window.FB) {\r\n      load();\r\n      onReject(\"Fb isn't loaded!\");\r\n      setIsProcessing(false);\r\n    } else {\r\n      setIsProcessing(true);\r\n      onLoginStart && onLoginStart();\r\n      _window.FB.login(handleResponse, {\r\n        scope,\r\n        return_scopes,\r\n        auth_type,\r\n      });\r\n    }\r\n  }, [\r\n    load,\r\n    scope,\r\n    onReject,\r\n    auth_type,\r\n    isSdkLoaded,\r\n    onLoginStart,\r\n    isProcessing,\r\n    return_scopes,\r\n    handleResponse,\r\n  ]);\r\n\r\n  return (\r\n    <div className={className} onClick={loginFB}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(LoginSocialFacebook);\r\n","/* eslint-disable camelcase */\r\n/**\r\n *\r\n * LoginSocialGoogle\r\n *\r\n */\r\nimport { PASS_CORS_KEY } from 'helper/constants';\r\nimport React, { memo, useCallback, useEffect, useRef, useState } from 'react';\r\nimport { objectType, IResolveParams } from '../';\r\n\r\ninterface Props {\r\n  scope?: string;\r\n  prompt?: string;\r\n  ux_mode?: string;\r\n  client_id: string;\r\n  className?: string;\r\n  login_hint?: string;\r\n  access_type?: string;\r\n  auto_select?: boolean;\r\n  redirect_uri?: string;\r\n  cookie_policy?: string;\r\n  hosted_domain?: string;\r\n  discoveryDocs?: string;\r\n  children?: React.ReactNode;\r\n  onLoginStart?: () => void;\r\n  isOnlyGetToken?: boolean;\r\n  typeResponse?: 'idToken' | 'accessToken';\r\n  onReject: (reject: string | objectType) => void;\r\n  fetch_basic_profile?: boolean;\r\n  onResolve: ({ provider, data }: IResolveParams) => void;\r\n}\r\n\r\n// const SCOPE = ''\r\n// const JS_SRC = 'https://apis.google.com/js/api.js'\r\nconst JS_SRC = 'https://accounts.google.com/gsi/client';\r\nconst SCRIPT_ID = 'google-login';\r\nconst PREVENT_CORS_URL: string = 'https://cors.bridged.cc';\r\nconst _window = window as any;\r\n\r\nconst LoginSocialGoogle = ({\r\n  client_id,\r\n  scope = 'https://www.googleapis.com/auth/userinfo.profile',\r\n  prompt = 'select_account',\r\n  typeResponse = 'accessToken',\r\n  ux_mode,\r\n  className = '',\r\n  login_hint = '',\r\n  access_type = 'online',\r\n  onLoginStart,\r\n  onReject,\r\n  onResolve,\r\n  redirect_uri = '/',\r\n  auto_select = false,\r\n  isOnlyGetToken = false,\r\n  cookie_policy = 'single_host_origin',\r\n  hosted_domain = '',\r\n  discoveryDocs = '',\r\n  children,\r\n  fetch_basic_profile = true,\r\n}: Props) => {\r\n  const scriptNodeRef = useRef<HTMLScriptElement>(null!);\r\n  const [isSdkLoaded, setIsSdkLoaded] = useState(false);\r\n  const [instance, setInstance] = useState<any>(null!);\r\n\r\n  useEffect(() => {\r\n    !isSdkLoaded && load();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isSdkLoaded]);\r\n\r\n  useEffect(\r\n    () => () => {\r\n      if (scriptNodeRef.current) scriptNodeRef.current.remove();\r\n    },\r\n    [],\r\n  );\r\n\r\n  const checkIsExistsSDKScript = useCallback(() => {\r\n    return !!document.getElementById(SCRIPT_ID);\r\n  }, []);\r\n\r\n  const insertScriptGoogle = useCallback(\r\n    (\r\n      d: HTMLDocument,\r\n      s: string = 'script',\r\n      id: string,\r\n      jsSrc: string,\r\n      cb: () => void,\r\n    ) => {\r\n      const ggScriptTag: any = d.createElement(s);\r\n      ggScriptTag.id = id;\r\n      ggScriptTag.src = jsSrc;\r\n      ggScriptTag.async = true;\r\n      ggScriptTag.defer = true;\r\n      const scriptNode = document.getElementsByTagName('script')![0];\r\n      scriptNodeRef.current = ggScriptTag;\r\n      scriptNode &&\r\n        scriptNode.parentNode &&\r\n        scriptNode.parentNode.insertBefore(ggScriptTag, scriptNode);\r\n      ggScriptTag.onload = cb;\r\n    },\r\n    [],\r\n  );\r\n\r\n  const onGetMe = useCallback(\r\n    (res: objectType) => {\r\n      if (typeResponse === 'accessToken') {\r\n        const headers = new Headers({\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'x-cors-grida-api-key': PASS_CORS_KEY,\r\n          Authorization: 'Bearer ' + res.access_token,\r\n        });\r\n\r\n        fetch(\r\n          `${PREVENT_CORS_URL}/https://www.googleapis.com/oauth2/v3/userinfo?alt=json`,\r\n          {\r\n            method: 'GET',\r\n            headers,\r\n          },\r\n        )\r\n          .then(response => response.json())\r\n          .then(response => {\r\n            const data: objectType = { ...res, ...response };\r\n            onResolve({\r\n              provider: 'google',\r\n              data,\r\n            });\r\n          })\r\n          .catch(err => {\r\n            onReject(err);\r\n          });\r\n      } else {\r\n        fetch(\r\n          `https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=${res.credential}`,\r\n          {\r\n            method: 'GET',\r\n          },\r\n        )\r\n          .then(response => response.json())\r\n          .then(response => {\r\n            const data: objectType = { ...res, ...response };\r\n            onResolve({\r\n              provider: 'google',\r\n              data,\r\n            });\r\n          })\r\n          .catch(err => {\r\n            onReject(err);\r\n          });\r\n      }\r\n    },\r\n    [typeResponse, onReject, onResolve],\r\n  );\r\n\r\n  const handleResponse = useCallback(\r\n    (res: objectType) => {\r\n      if (res && access_type === 'offline')\r\n        onResolve({\r\n          provider: 'google',\r\n          data: res,\r\n        });\r\n      else {\r\n        if (res?.access_token) {\r\n          if (isOnlyGetToken)\r\n            onResolve({\r\n              provider: 'google',\r\n              data: res,\r\n            });\r\n          else onGetMe(res);\r\n        } else {\r\n          const data: objectType = res;\r\n          if (isOnlyGetToken)\r\n            onResolve({\r\n              provider: 'google',\r\n              data,\r\n            });\r\n          else onGetMe(res);\r\n        }\r\n      }\r\n    },\r\n    [access_type, isOnlyGetToken, onGetMe, onResolve],\r\n  );\r\n\r\n  const handleError = useCallback(\r\n    (res: objectType) => {\r\n      onReject({\r\n        provider: 'google',\r\n        data: res,\r\n      });\r\n    },\r\n    [onReject],\r\n  );\r\n\r\n  const load = useCallback(() => {\r\n    if (checkIsExistsSDKScript()) {\r\n      setIsSdkLoaded(true);\r\n    } else {\r\n      insertScriptGoogle(document, 'script', SCRIPT_ID, JS_SRC, () => {\r\n        const params = {\r\n          client_id,\r\n          ux_mode,\r\n        };\r\n        var client = null;\r\n        if (typeResponse === 'idToken') {\r\n          _window.google.accounts.id.initialize({\r\n            ...params,\r\n            auto_select,\r\n            prompt: 'select_account',\r\n            login_uri: redirect_uri,\r\n            callback: handleResponse,\r\n            native_callback: handleResponse,\r\n            error_callback: handleError,\r\n          });\r\n        } else {\r\n          const payload = {\r\n            ...params,\r\n            scope,\r\n            prompt,\r\n            login_hint,\r\n            access_type,\r\n            hosted_domain,\r\n            redirect_uri,\r\n            cookie_policy,\r\n            discoveryDocs,\r\n            immediate: true,\r\n            fetch_basic_profile,\r\n            callback: handleResponse,\r\n            error_callback: handleError,\r\n          };\r\n          if (access_type === 'offline')\r\n            client = _window.google.accounts.oauth2.initCodeClient(payload);\r\n          else client = _window.google.accounts.oauth2.initTokenClient(payload);\r\n        }\r\n        if (client) setInstance(client);\r\n        setIsSdkLoaded(true);\r\n      });\r\n    }\r\n  }, [\r\n    scope,\r\n    prompt,\r\n    ux_mode,\r\n    client_id,\r\n    login_hint,\r\n    auto_select,\r\n    access_type,\r\n    redirect_uri,\r\n    typeResponse,\r\n    discoveryDocs,\r\n    cookie_policy,\r\n    hosted_domain,\r\n    handleResponse,\r\n    handleError,\r\n    fetch_basic_profile,\r\n    insertScriptGoogle,\r\n    checkIsExistsSDKScript,\r\n  ]);\r\n\r\n  const loginGoogle = useCallback(() => {\r\n    if (!isSdkLoaded) return;\r\n    if (!_window.google) {\r\n      load();\r\n      onReject(\"Google SDK isn't loaded!\");\r\n    } else {\r\n      onLoginStart && onLoginStart();\r\n      if (instance)\r\n        access_type === 'offline'\r\n          ? instance.requestCode()\r\n          : instance.requestAccessToken();\r\n      else _window.google.accounts.id.prompt();\r\n    }\r\n  }, [access_type, instance, isSdkLoaded, load, onLoginStart, onReject]);\r\n\r\n  return (\r\n    <div className={className} onClick={loginGoogle}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(LoginSocialGoogle);\r\n","export var PASS_CORS_KEY = 'passCors'; // eslint-disable-line\r\n","/* eslint-disable camelcase */\r\n/**\r\n *\r\n * LoginSocialGithub\r\n *\r\n */\r\nimport { PASS_CORS_KEY } from 'helper/constants';\r\nimport React, { memo, useCallback, useEffect } from 'react';\r\nimport { IResolveParams, objectType } from '../';\r\n\r\ninterface Props {\r\n  state?: string;\r\n  scope?: string;\r\n  client_id: string;\r\n  className?: string;\r\n  redirect_uri: string;\r\n  client_secret: string;\r\n  allow_signup?: boolean;\r\n  isOnlyGetToken?: boolean;\r\n  isOnlyGetCode?: boolean;\r\n  children?: React.ReactNode;\r\n  onLoginStart?: () => void;\r\n  onLogoutSuccess?: () => void;\r\n  onReject: (reject: string | objectType) => void;\r\n  onResolve: ({ provider, data }: IResolveParams) => void;\r\n}\r\n\r\nconst GITHUB_URL: string = 'https://github.com';\r\nconst GITHUB_API_URL: string = 'https://api.github.com/';\r\nconst PREVENT_CORS_URL: string = 'https://cors.bridged.cc';\r\n\r\nexport const LoginSocialGithub = ({\r\n  state = '',\r\n  scope = 'repo,gist',\r\n  client_id,\r\n  client_secret,\r\n  className = '',\r\n  redirect_uri,\r\n  allow_signup = false,\r\n  isOnlyGetToken = false,\r\n  isOnlyGetCode = false,\r\n  children,\r\n  onReject,\r\n  onResolve,\r\n  onLoginStart,\r\n}: Props) => {\r\n  useEffect(() => {\r\n    const popupWindowURL = new URL(window.location.href);\r\n    const code = popupWindowURL.searchParams.get('code');\r\n    const state = popupWindowURL.searchParams.get('state');\r\n    if (state?.includes('_github') && code) {\r\n      localStorage.setItem('github', code);\r\n      window.close();\r\n    }\r\n  }, []);\r\n\r\n  const getProfile = useCallback(\r\n    (data: objectType) => {\r\n      fetch(`${PREVENT_CORS_URL}/${GITHUB_API_URL}/user`, {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: `token ${data.access_token}`,\r\n          'x-cors-grida-api-key': PASS_CORS_KEY,\r\n        },\r\n      })\r\n        .then(res => res.json())\r\n        .then((response: any) => {\r\n          onResolve({ provider: 'github', data: { ...response, ...data } });\r\n        })\r\n        .catch(err => {\r\n          onReject(err);\r\n        });\r\n    },\r\n    [onReject, onResolve],\r\n  );\r\n\r\n  const getAccessToken = useCallback(\r\n    (code: string) => {\r\n      if (isOnlyGetCode) onResolve({ provider: 'github', data: { code } });\r\n      else {\r\n        const params = {\r\n          code,\r\n          state,\r\n          redirect_uri,\r\n          client_id,\r\n          client_secret,\r\n        };\r\n        const headers = new Headers({\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'x-cors-grida-api-key': PASS_CORS_KEY,\r\n        });\r\n\r\n        fetch(`${PREVENT_CORS_URL}/${GITHUB_URL}/login/oauth/access_token`, {\r\n          method: 'POST',\r\n          headers,\r\n          body: new URLSearchParams(params),\r\n        })\r\n          .then(response => response.text())\r\n          .then(response => {\r\n            const data: objectType = {};\r\n            const searchParams: any = new URLSearchParams(response);\r\n            for (const p of searchParams) {\r\n              data[p[0]] = p[1];\r\n            }\r\n            if (data.access_token) {\r\n              if (isOnlyGetToken) onResolve({ provider: 'github', data });\r\n              else getProfile(data);\r\n            } else onReject('no data');\r\n          })\r\n          .catch(err => {\r\n            onReject(err);\r\n          });\r\n      }\r\n    },\r\n    [\r\n      state,\r\n      onReject,\r\n      getProfile,\r\n      onResolve,\r\n      client_id,\r\n      redirect_uri,\r\n      client_secret,\r\n      isOnlyGetCode,\r\n      isOnlyGetToken,\r\n    ],\r\n  );\r\n\r\n  const handlePostMessage = useCallback(\r\n    async ({ type, code, provider }: objectType) =>\r\n      type === 'code' && provider === 'github' && code && getAccessToken(code),\r\n    [getAccessToken],\r\n  );\r\n\r\n  const onChangeLocalStorage = useCallback(() => {\r\n    window.removeEventListener('storage', onChangeLocalStorage, false);\r\n    const code = localStorage.getItem('github');\r\n    if (code) {\r\n      handlePostMessage({ provider: 'github', type: 'code', code });\r\n      localStorage.removeItem('github');\r\n    }\r\n  }, [handlePostMessage]);\r\n\r\n  const onLogin = useCallback(() => {\r\n    onLoginStart && onLoginStart();\r\n    window.addEventListener('storage', onChangeLocalStorage, false);\r\n    const oauthUrl = `${GITHUB_URL}/login/oauth/authorize?client_id=${client_id}&scope=${scope}&state=${\r\n      state + '_github'\r\n    }&redirect_uri=${redirect_uri}&allow_signup=${allow_signup}`;\r\n    const width = 450;\r\n    const height = 730;\r\n    const left = window.screen.width / 2 - width / 2;\r\n    const top = window.screen.height / 2 - height / 2;\r\n    window.open(\r\n      oauthUrl,\r\n      'Github',\r\n      'menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=' +\r\n        width +\r\n        ', height=' +\r\n        height +\r\n        ', top=' +\r\n        top +\r\n        ', left=' +\r\n        left,\r\n    );\r\n  }, [\r\n    scope,\r\n    state,\r\n    client_id,\r\n    redirect_uri,\r\n    allow_signup,\r\n    onLoginStart,\r\n    onChangeLocalStorage,\r\n  ]);\r\n\r\n  return (\r\n    <div className={className} onClick={onLogin}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(LoginSocialGithub);\r\n","/* eslint-disable camelcase */\r\n/**\r\n *\r\n * LoginSocialInstagram\r\n *\r\n */\r\nimport { PASS_CORS_KEY } from 'helper/constants';\r\nimport React, { memo, useCallback, useEffect } from 'react';\r\nimport { objectType, IResolveParams } from '../';\r\n\r\ninterface Props {\r\n  scope?: string;\r\n  state?: string;\r\n  fields?: string;\r\n  client_id: string;\r\n  className?: string;\r\n  client_secret: string;\r\n  redirect_uri: string;\r\n  response_type?: string;\r\n  isOnlyGetCode?: boolean;\r\n  isOnlyGetToken?: boolean;\r\n  children?: React.ReactNode;\r\n  onLogoutSuccess?: () => void;\r\n  onLoginStart?: () => void;\r\n  onReject: (reject: string | objectType) => void;\r\n  onResolve: ({ provider, data }: IResolveParams) => void;\r\n}\r\n\r\nconst INSTAGRAM_URL = 'https://api.instagram.com';\r\nconst INSTAGRAM_API_URL = 'https://graph.instagram.com/';\r\nconst PREVENT_CORS_URL: string = 'https://cors.bridged.cc';\r\n\r\nexport const LoginSocialInstagram = ({\r\n  state = '',\r\n  client_id,\r\n  client_secret,\r\n  className,\r\n  redirect_uri,\r\n  fields = 'id,username,account_type,media_count',\r\n  scope = 'user_profile,user_media',\r\n  response_type = 'code',\r\n  isOnlyGetCode = false,\r\n  isOnlyGetToken = false,\r\n  children,\r\n  onReject,\r\n  onResolve,\r\n  onLoginStart,\r\n}: Props) => {\r\n  useEffect(() => {\r\n    const popupWindowURL = new URL(window.location.href);\r\n    const code = popupWindowURL.searchParams.get('code');\r\n    const state = popupWindowURL.searchParams.get('state');\r\n    if (state?.includes('_instagram') && code) {\r\n      localStorage.setItem('instagram', code);\r\n      window.close();\r\n    }\r\n  }, []);\r\n\r\n  const getProfile = useCallback(\r\n    (data: objectType) => {\r\n      fetch(\r\n        `${PREVENT_CORS_URL}/${INSTAGRAM_API_URL}/me?fields=${fields}&access_token=${data.access_token}`,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            'x-cors-grida-api-key': PASS_CORS_KEY,\r\n          },\r\n        },\r\n      )\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          onResolve({ provider: 'instagram', data: { ...res, ...data } });\r\n        })\r\n        .catch(err => {\r\n          onReject(err);\r\n        });\r\n    },\r\n    [fields, onReject, onResolve],\r\n  );\r\n\r\n  const getAccessToken = useCallback(\r\n    (code: string) => {\r\n      if (isOnlyGetCode) onResolve({ provider: 'instagram', data: { code } });\r\n      else {\r\n        const params = {\r\n          grant_type: 'authorization_code',\r\n          code,\r\n          redirect_uri,\r\n          client_id,\r\n          client_secret,\r\n        };\r\n        const headers = new Headers({\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'x-cors-grida-api-key': PASS_CORS_KEY,\r\n        });\r\n        fetch(`${PREVENT_CORS_URL}/${INSTAGRAM_URL}/oauth/access_token`, {\r\n          method: 'POST',\r\n          headers,\r\n          body: new URLSearchParams(params),\r\n        })\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            if (data.access_token) {\r\n              if (isOnlyGetToken) onResolve({ provider: 'instagram', data });\r\n              else getProfile(data);\r\n            } else onReject('no data');\r\n          })\r\n          .catch(err => {\r\n            onReject(err);\r\n          })\r\n          .finally(() => {});\r\n      }\r\n    },\r\n    [\r\n      onReject,\r\n      onResolve,\r\n      getProfile,\r\n      client_id,\r\n      redirect_uri,\r\n      client_secret,\r\n      isOnlyGetCode,\r\n      isOnlyGetToken,\r\n    ],\r\n  );\r\n\r\n  const handlePostMessage = useCallback(\r\n    async ({ type, code, provider }: objectType) =>\r\n      type === 'code' &&\r\n      provider === 'instagram' &&\r\n      code &&\r\n      getAccessToken(code),\r\n    [getAccessToken],\r\n  );\r\n\r\n  const onChangeLocalStorage = useCallback(() => {\r\n    window.removeEventListener('storage', onChangeLocalStorage, false);\r\n    const code = localStorage.getItem('instagram');\r\n    if (code) {\r\n      handlePostMessage({ provider: 'instagram', type: 'code', code });\r\n      localStorage.removeItem('instagram');\r\n    }\r\n  }, [handlePostMessage]);\r\n\r\n  const onLogin = useCallback(() => {\r\n    onLoginStart && onLoginStart();\r\n    window.addEventListener('storage', onChangeLocalStorage, false);\r\n    const oauthUrl = `${INSTAGRAM_URL}/oauth/authorize?response_type=${response_type}&client_id=${client_id}&scope=${scope}&state=${\r\n      state + '_instagram'\r\n    }&redirect_uri=${redirect_uri}`;\r\n    const width = 450;\r\n    const height = 730;\r\n    const left = window.screen.width / 2 - width / 2;\r\n    const top = window.screen.height / 2 - height / 2;\r\n    window.open(\r\n      oauthUrl,\r\n      'Instagram',\r\n      'menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=' +\r\n        width +\r\n        ', height=' +\r\n        height +\r\n        ', top=' +\r\n        top +\r\n        ', left=' +\r\n        left,\r\n    );\r\n  }, [\r\n    scope,\r\n    state,\r\n    client_id,\r\n    redirect_uri,\r\n    onLoginStart,\r\n    response_type,\r\n    onChangeLocalStorage,\r\n  ]);\r\n\r\n  return (\r\n    <div className={className} onClick={onLogin}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(LoginSocialInstagram);\r\n","/* eslint-disable camelcase */\r\n/**\r\n *\r\n * LoginSocialMicrosoft\r\n *\r\n */\r\nimport React, { memo, useCallback, useEffect } from 'react';\r\nimport { IResolveParams, objectType } from '../';\r\n\r\ninterface Props {\r\n  scope?: string;\r\n  state?: string;\r\n  client_id: string;\r\n  className?: string;\r\n  redirect_uri: string;\r\n  response_type?: string;\r\n  response_mode?: string;\r\n  code_challenge?: string;\r\n  children?: React.ReactNode;\r\n  isOnlyGetCode?: boolean;\r\n  isOnlyGetToken?: boolean;\r\n  onLoginStart?: () => void;\r\n  onReject: (reject: string | objectType) => void;\r\n  code_challenge_method?: 'plain' | 's256'[];\r\n  onResolve: ({ provider, data }: IResolveParams) => void;\r\n  tenant?: 'common' | 'organizations' | 'consumers';\r\n  prompt?: 'login' | 'none' | 'consent' | 'select_account';\r\n}\r\n\r\nconst MICROSOFT_URL = 'https://login.microsoftonline.com';\r\nconst MICROSOFT_API_URL = 'https://graph.microsoft.com';\r\n// const PREVENT_CORS_URL: string = 'https://cors.bridged.cc'\r\n\r\nexport const LoginSocialMicrosoft = ({\r\n  tenant = 'common',\r\n  state = '',\r\n  client_id,\r\n  className,\r\n  redirect_uri,\r\n  scope = 'profile openid email',\r\n  response_type = 'code',\r\n  response_mode = 'query',\r\n  children,\r\n  code_challenge = '19cfc47c216dacba8ca23eeee817603e2ba34fe0976378662ba31688ed302fa9',\r\n  code_challenge_method = 'plain',\r\n  prompt = 'select_account',\r\n  isOnlyGetCode = false,\r\n  isOnlyGetToken = false,\r\n  onLoginStart,\r\n  onReject,\r\n  onResolve,\r\n}: Props) => {\r\n  useEffect(() => {\r\n    const popupWindowURL = new URL(window.location.href);\r\n    const code = popupWindowURL.searchParams.get('code');\r\n    const state = popupWindowURL.searchParams.get('state');\r\n    if (state?.includes('_microsoft') && code) {\r\n      localStorage.setItem('microsoft', code);\r\n      window.close();\r\n    }\r\n  }, []);\r\n\r\n  const getProfile = useCallback(\r\n    (data: objectType) => {\r\n      fetch(`${MICROSOFT_API_URL}/v1.0/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: `Bearer ${data.access_token}`,\r\n        },\r\n      })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          onResolve({ provider: 'microsoft', data: { ...res, ...data } });\r\n        })\r\n        .catch(err => {\r\n          onReject(err);\r\n        });\r\n    },\r\n    [onReject, onResolve],\r\n  );\r\n\r\n  const getAccessToken = useCallback(\r\n    (code: string) => {\r\n      if (isOnlyGetCode) onResolve({ provider: 'microsoft', data: { code } });\r\n      else {\r\n        const params = {\r\n          code,\r\n          scope,\r\n          client_id,\r\n          redirect_uri,\r\n          code_verifier: code_challenge,\r\n          grant_type: 'authorization_code',\r\n        };\r\n        const headers = new Headers({\r\n          'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\r\n        });\r\n        fetch(`${MICROSOFT_URL}/${tenant}/oauth2/v2.0/token`, {\r\n          method: 'POST',\r\n          headers,\r\n          body: new URLSearchParams(params),\r\n        })\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            if (data.access_token) {\r\n              if (isOnlyGetToken) onResolve({ provider: 'microsoft', data });\r\n              else getProfile(data);\r\n            } else {\r\n              onReject('no data');\r\n            }\r\n          })\r\n          .catch(err => {\r\n            onReject(err);\r\n          });\r\n      }\r\n    },\r\n    [\r\n      scope,\r\n      tenant,\r\n      onReject,\r\n      getProfile,\r\n      client_id,\r\n      onResolve,\r\n      redirect_uri,\r\n      code_challenge,\r\n      isOnlyGetCode,\r\n      isOnlyGetToken,\r\n    ],\r\n  );\r\n\r\n  const handlePostMessage = useCallback(\r\n    async ({ type, code, provider }: objectType) =>\r\n      type === 'code' &&\r\n      provider === 'microsoft' &&\r\n      code &&\r\n      getAccessToken(code),\r\n    [getAccessToken],\r\n  );\r\n\r\n  const onChangeLocalStorage = useCallback(() => {\r\n    window.removeEventListener('storage', onChangeLocalStorage, false);\r\n    const code = localStorage.getItem('microsoft');\r\n    if (code) {\r\n      handlePostMessage({ provider: 'microsoft', type: 'code', code });\r\n      localStorage.removeItem('microsoft');\r\n    }\r\n  }, [handlePostMessage]);\r\n\r\n  const onLogin = useCallback(() => {\r\n    onLoginStart && onLoginStart();\r\n    window.addEventListener('storage', onChangeLocalStorage, false);\r\n    const oauthUrl = `${MICROSOFT_URL}/${tenant}/oauth2/v2.0/authorize?client_id=${client_id}\r\n        &response_type=${response_type}\r\n        &redirect_uri=${redirect_uri}\r\n        &response_mode=${response_mode}\r\n        &scope=${scope}\r\n        &state=${state + '_microsoft'}\r\n        &prompt=${prompt}\r\n        &code_challenge=${code_challenge}\r\n        &code_challenge_method=${code_challenge_method}`;\r\n    const width = 450;\r\n    const height = 730;\r\n    const left = window.screen.width / 2 - width / 2;\r\n    const top = window.screen.height / 2 - height / 2;\r\n    window.open(\r\n      oauthUrl,\r\n      'Microsoft',\r\n      'menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=' +\r\n        width +\r\n        ', height=' +\r\n        height +\r\n        ', top=' +\r\n        top +\r\n        ', left=' +\r\n        left,\r\n    );\r\n  }, [\r\n    scope,\r\n    state,\r\n    prompt,\r\n    tenant,\r\n    client_id,\r\n    onLoginStart,\r\n    redirect_uri,\r\n    response_mode,\r\n    response_type,\r\n    code_challenge,\r\n    onChangeLocalStorage,\r\n    code_challenge_method,\r\n  ]);\r\n\r\n  return (\r\n    <div className={className} onClick={onLogin}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(LoginSocialMicrosoft);\r\n","/* eslint-disable camelcase */\r\n/**\r\n *\r\n * LoginSocialLinkedin\r\n *\r\n */\r\nimport { PASS_CORS_KEY } from 'helper/constants';\r\nimport React, { memo, useCallback, useEffect } from 'react';\r\nimport { IResolveParams, objectType } from '../';\r\n\r\ninterface Props {\r\n  state?: string;\r\n  scope?: string;\r\n  client_id: string;\r\n  className?: string;\r\n  redirect_uri: string;\r\n  client_secret: string;\r\n  response_type?: string;\r\n  isOnlyGetCode?: boolean;\r\n  isOnlyGetToken?: boolean;\r\n  children?: React.ReactNode;\r\n  onLoginStart?: () => void;\r\n  onReject: (reject: string | objectType) => void;\r\n  onResolve: ({ provider, data }: IResolveParams) => void;\r\n}\r\n\r\nconst LINKEDIN_URL: string = 'https://www.linkedin.com/oauth/v2';\r\nconst LINKEDIN_API_URL: string = 'https://api.linkedin.com';\r\nconst PREVENT_CORS_URL: string = 'https://cors.bridged.cc';\r\n\r\nexport const LoginSocialLinkedin = ({\r\n  state = '',\r\n  scope = 'r_liteprofile',\r\n  client_id,\r\n  client_secret,\r\n  className = '',\r\n  redirect_uri,\r\n  response_type = 'code',\r\n  isOnlyGetCode = false,\r\n  isOnlyGetToken = false,\r\n  children,\r\n  onLoginStart,\r\n  onReject,\r\n  onResolve,\r\n}: Props) => {\r\n  useEffect(() => {\r\n    const popupWindowURL = new URL(window.location.href);\r\n    const code = popupWindowURL.searchParams.get('code');\r\n    const state = popupWindowURL.searchParams.get('state');\r\n    if (state?.includes('_linkedin') && code) {\r\n      localStorage.setItem('linkedin', code);\r\n      window.close();\r\n    }\r\n  }, []);\r\n\r\n  const getProfile = useCallback(\r\n    (data: objectType) => {\r\n      fetch(\r\n        `https://api.allorigins.win/get?url=${encodeURIComponent(\r\n          LINKEDIN_API_URL +\r\n            '/v2/me?oauth2_access_token=' +\r\n            data.access_token +\r\n            '&projection=(id,profilePicture(displayImage~digitalmediaAsset:playableStreams),localizedLastName, firstName,lastName,localizedFirstName)',\r\n        )}`,\r\n        {\r\n          method: 'GET',\r\n        },\r\n      )\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          const response = { ...data };\r\n          if (res.contents) {\r\n            const contents = JSON.parse(res.contents);\r\n            if (typeof data === 'object')\r\n              Object.entries(contents).map(([key, value]) => {\r\n                response[key] = value;\r\n              });\r\n          }\r\n\r\n          onResolve({ provider: 'linkedin', data: response });\r\n        })\r\n        .catch(err => {\r\n          onReject(err);\r\n        });\r\n    },\r\n    [onReject, onResolve],\r\n  );\r\n\r\n  const getAccessToken = useCallback(\r\n    (code: string) => {\r\n      if (isOnlyGetCode) onResolve({ provider: 'linkedin', data: { code } });\r\n      else {\r\n        const params = {\r\n          code,\r\n          grant_type: 'authorization_code',\r\n          redirect_uri,\r\n          client_id,\r\n          client_secret,\r\n        };\r\n        const headers = new Headers({\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'x-cors-grida-api-key': PASS_CORS_KEY,\r\n        });\r\n\r\n        fetch(`${PREVENT_CORS_URL}/${LINKEDIN_URL}/accessToken`, {\r\n          method: 'POST',\r\n          headers,\r\n          body: new URLSearchParams(params),\r\n        })\r\n          .then(response => response.json())\r\n          .then(response => {\r\n            if (isOnlyGetToken)\r\n              onResolve({ provider: 'linkedin', data: response });\r\n            else getProfile(response);\r\n          })\r\n          .catch(err => {\r\n            onReject(err);\r\n          });\r\n      }\r\n    },\r\n    [\r\n      onReject,\r\n      onResolve,\r\n      client_id,\r\n      getProfile,\r\n      redirect_uri,\r\n      client_secret,\r\n      isOnlyGetCode,\r\n      isOnlyGetToken,\r\n    ],\r\n  );\r\n\r\n  const handlePostMessage = useCallback(\r\n    async ({ type, code, provider }: objectType) =>\r\n      type === 'code' &&\r\n      provider === 'linkedin' &&\r\n      code &&\r\n      getAccessToken(code),\r\n    [getAccessToken],\r\n  );\r\n\r\n  const onChangeLocalStorage = useCallback(() => {\r\n    window.removeEventListener('storage', onChangeLocalStorage, false);\r\n    const code = localStorage.getItem('linkedin');\r\n    if (code) {\r\n      handlePostMessage({ provider: 'linkedin', type: 'code', code });\r\n      localStorage.removeItem('linkedin');\r\n    }\r\n  }, [handlePostMessage]);\r\n\r\n  const onLogin = useCallback(() => {\r\n    onLoginStart && onLoginStart();\r\n    window.addEventListener('storage', onChangeLocalStorage, false);\r\n    const oauthUrl = `${LINKEDIN_URL}/authorization?response_type=${response_type}&client_id=${client_id}&scope=${scope}&state=${\r\n      state + '_linkedin'\r\n    }&redirect_uri=${redirect_uri}`;\r\n    const width = 450;\r\n    const height = 730;\r\n    const left = window.screen.width / 2 - width / 2;\r\n    const top = window.screen.height / 2 - height / 2;\r\n    window.open(\r\n      oauthUrl,\r\n      'Linkedin',\r\n      'menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=' +\r\n        width +\r\n        ', height=' +\r\n        height +\r\n        ', top=' +\r\n        top +\r\n        ', left=' +\r\n        left,\r\n    );\r\n  }, [\r\n    onLoginStart,\r\n    onChangeLocalStorage,\r\n    response_type,\r\n    client_id,\r\n    scope,\r\n    state,\r\n    redirect_uri,\r\n  ]);\r\n\r\n  return (\r\n    <div className={className} onClick={onLogin}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(LoginSocialLinkedin);\r\n","/* eslint-disable camelcase */\r\n/**\r\n *\r\n * LoginSocialPinterest\r\n *\r\n */\r\nimport { PASS_CORS_KEY } from 'helper/constants';\r\nimport React, { memo, useCallback, useEffect } from 'react';\r\nimport { IResolveParams, objectType } from '..';\r\n\r\ninterface Props {\r\n  state?: string;\r\n  scope?: string;\r\n  client_id: string;\r\n  client_secret: string;\r\n  className?: string;\r\n  redirect_uri: string;\r\n  children?: React.ReactNode;\r\n  isOnlyGetCode?: boolean;\r\n  isOnlyGetToken?: boolean;\r\n  onLoginStart?: () => void;\r\n  onReject: (reject: string | objectType) => void;\r\n  onResolve: ({ provider, data }: IResolveParams) => void;\r\n}\r\n\r\nconst PINTEREST_URL: string = 'https://www.pinterest.com/oauth';\r\nconst PINTEREST_URL_API: string = 'https://api.pinterest.com/v5';\r\nconst PREVENT_CORS_URL: string = 'https://cors.bridged.cc';\r\n\r\nexport const LoginSocialPinterest = ({\r\n  state = '',\r\n  scope = 'boards:read,pins:read,user_accounts:read',\r\n  client_id,\r\n  client_secret,\r\n  className = '',\r\n  redirect_uri,\r\n  isOnlyGetCode = false,\r\n  isOnlyGetToken = false,\r\n  children,\r\n  onLoginStart,\r\n  onReject,\r\n  onResolve,\r\n}: Props) => {\r\n  useEffect(() => {\r\n    const popupWindowURL = new URL(window.location.href);\r\n    const code = popupWindowURL.searchParams.get('code');\r\n    const state = popupWindowURL.searchParams.get('state');\r\n    if (state?.includes('_pinterest') && code) {\r\n      localStorage.setItem('pinterest', code);\r\n      window.close();\r\n    }\r\n  }, []);\r\n\r\n  const getProfile = useCallback(\r\n    (data: objectType) => {\r\n      fetch(`${PREVENT_CORS_URL}/${PINTEREST_URL_API}/user_account`, {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: `Bearer ${data.access_token}`,\r\n          'x-cors-grida-api-key': PASS_CORS_KEY,\r\n        },\r\n      })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          onResolve({ provider: 'pinterest', data: { ...data, ...res } });\r\n        })\r\n        .catch(err => onReject(err));\r\n    },\r\n    [onReject, onResolve],\r\n  );\r\n\r\n  const getAccessToken = useCallback(\r\n    async (code: string) => {\r\n      if (isOnlyGetCode) onResolve({ provider: 'pinterest', data: { code } });\r\n      else {\r\n        var details = {\r\n          code,\r\n          redirect_uri,\r\n          grant_type: `authorization_code`,\r\n        };\r\n        var formBody: string | string[] = [];\r\n        for (var property in details) {\r\n          var encodedKey = encodeURIComponent(property);\r\n          var encodedValue = encodeURIComponent(details[property]);\r\n          formBody.push(encodedKey + '=' + encodedValue);\r\n        }\r\n        formBody = formBody.join('&');\r\n\r\n        const data = await fetch(\r\n          `${PREVENT_CORS_URL}/${PINTEREST_URL_API}/oauth/token`,\r\n          {\r\n            method: 'POST',\r\n            headers: {\r\n              Authorization: `Basic ${btoa(client_id + ':' + client_secret)}`,\r\n              'Content-Type': 'application/x-www-form-urlencoded',\r\n              'x-cors-grida-api-key': PASS_CORS_KEY,\r\n            },\r\n            body: formBody,\r\n          },\r\n        )\r\n          .then(data => data.json())\r\n          .catch(err => onReject(err));\r\n\r\n        if (data.access_token) {\r\n          if (isOnlyGetToken) onResolve({ provider: 'pinterest', data });\r\n          else getProfile(data);\r\n        }\r\n      }\r\n    },\r\n    [\r\n      onReject,\r\n      client_id,\r\n      getProfile,\r\n      onResolve,\r\n      redirect_uri,\r\n      client_secret,\r\n      isOnlyGetCode,\r\n      isOnlyGetToken,\r\n    ],\r\n  );\r\n\r\n  const handlePostMessage = useCallback(\r\n    async ({ type, code, provider }: objectType) =>\r\n      type === 'code' &&\r\n      provider === 'pinterest' &&\r\n      code &&\r\n      getAccessToken(code),\r\n    [getAccessToken],\r\n  );\r\n\r\n  const onChangeLocalStorage = useCallback(() => {\r\n    window.removeEventListener('storage', onChangeLocalStorage, false);\r\n    const code = localStorage.getItem('pinterest');\r\n    if (code) {\r\n      handlePostMessage({ provider: 'pinterest', type: 'code', code });\r\n      localStorage.removeItem('pinterest');\r\n    }\r\n  }, [handlePostMessage]);\r\n\r\n  const onLogin = useCallback(() => {\r\n    onLoginStart && onLoginStart();\r\n    window.addEventListener('storage', onChangeLocalStorage, false);\r\n    const oauthUrl = `${PINTEREST_URL}/?client_id=${client_id}&scope=${scope}&state=${\r\n      state + '_pinterest'\r\n    }&redirect_uri=${redirect_uri}&response_type=code`;\r\n    const width = 450;\r\n    const height = 730;\r\n    const left = window.screen.width / 2 - width / 2;\r\n    const top = window.screen.height / 2 - height / 2;\r\n    window.open(\r\n      oauthUrl,\r\n      'Pinterest',\r\n      'menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=' +\r\n        width +\r\n        ', height=' +\r\n        height +\r\n        ', top=' +\r\n        top +\r\n        ', left=' +\r\n        left,\r\n    );\r\n  }, [\r\n    scope,\r\n    state,\r\n    client_id,\r\n    redirect_uri,\r\n    onLoginStart,\r\n    onChangeLocalStorage,\r\n  ]);\r\n\r\n  return (\r\n    <div className={className} onClick={onLogin}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(LoginSocialPinterest);\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable camelcase */\r\n/**\r\n *\r\n * LoginSocialTwitter\r\n *\r\n */\r\nimport { PASS_CORS_KEY } from 'helper/constants';\r\nimport React, { memo, useCallback, useEffect } from 'react';\r\nimport { IResolveParams, objectType } from '..';\r\n\r\ninterface Props {\r\n  client_id: string;\r\n  className?: string;\r\n  redirect_uri: string;\r\n  state?: string;\r\n  fields?: string;\r\n  scope?: string;\r\n  children?: React.ReactNode;\r\n  isOnlyGetCode?: boolean;\r\n  isOnlyGetToken?: boolean;\r\n  onLoginStart?: () => void;\r\n  onLogoutSuccess?: () => void;\r\n  onReject: (reject: string | objectType) => void;\r\n  onResolve: ({ provider, data }: IResolveParams) => void;\r\n}\r\n\r\nconst TWITTER_URL: string = 'https://twitter.com';\r\nconst TWITTER_API_URL: string = 'https://api.twitter.com';\r\nconst PREVENT_CORS_URL: string = 'https://cors.bridged.cc';\r\n\r\nexport const LoginSocialTwitter = ({\r\n  client_id,\r\n  className = '',\r\n  redirect_uri,\r\n  children,\r\n  fields = 'created_at,description,entities,id,location,name,pinned_tweet_id,profile_image_url,protected,public_metrics,url,username,verified,withheld',\r\n  state = 'state',\r\n  scope = 'users.read%20tweet.read',\r\n  isOnlyGetCode = false,\r\n  isOnlyGetToken = false,\r\n  onLoginStart,\r\n  onReject,\r\n  onResolve,\r\n}: Props) => {\r\n  useEffect(() => {\r\n    const popupWindowURL = new URL(window.location.href);\r\n    const code = popupWindowURL.searchParams.get('code');\r\n    const state = popupWindowURL.searchParams.get('state');\r\n    if (state && code) {\r\n      localStorage.setItem('twitter', `${code}`);\r\n      window.close();\r\n    }\r\n  }, []);\r\n\r\n  const getProfile = useCallback(\r\n    (data: objectType) => {\r\n      const url = `${PREVENT_CORS_URL}/${TWITTER_API_URL}/2/users/me?user.fields=${fields}`;\r\n      fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: `Bearer ${data.access_token}`,\r\n          'x-cors-grida-api-key': PASS_CORS_KEY,\r\n        },\r\n      })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          onResolve({ provider: 'twitter', data: { ...data, ...res.data } });\r\n        })\r\n        .catch(err => onReject(err));\r\n    },\r\n    [fields, onReject, onResolve],\r\n  );\r\n\r\n  const getAccessToken = useCallback(\r\n    async (code: string) => {\r\n      if (isOnlyGetCode) onResolve({ provider: 'twitter', data: { code } });\r\n      else {\r\n        var details = new URLSearchParams({\r\n          code,\r\n          redirect_uri,\r\n          client_id,\r\n          grant_type: `authorization_code`,\r\n          code_verifier: 'challenge',\r\n        });\r\n\r\n        const requestOAuthURL = `${PREVENT_CORS_URL}/${TWITTER_API_URL}/2/oauth2/token`;\r\n        const data = await fetch(requestOAuthURL, {\r\n          method: 'POST',\r\n          body: details,\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n            'x-cors-grida-api-key': PASS_CORS_KEY,\r\n          },\r\n        })\r\n          .then(data => data.json())\r\n          .catch(err => onReject(err));\r\n\r\n        if (data.access_token) {\r\n          if (isOnlyGetToken) onResolve({ provider: 'twitter', data });\r\n          else getProfile(data);\r\n        }\r\n      }\r\n    },\r\n    [\r\n      onReject,\r\n      getProfile,\r\n      onResolve,\r\n      client_id,\r\n      redirect_uri,\r\n      isOnlyGetCode,\r\n      isOnlyGetToken,\r\n    ],\r\n  );\r\n\r\n  const handlePostMessage = useCallback(\r\n    async ({ type, code, provider }: objectType) =>\r\n      type === 'code' && provider === 'twitter' && code && getAccessToken(code),\r\n    [getAccessToken],\r\n  );\r\n\r\n  const onChangeLocalStorage = useCallback(() => {\r\n    window.removeEventListener('storage', onChangeLocalStorage, false);\r\n    const code = localStorage.getItem('twitter');\r\n    if (code) {\r\n      handlePostMessage({ provider: 'twitter', type: 'code', code });\r\n      localStorage.removeItem('twitter');\r\n    }\r\n  }, [handlePostMessage]);\r\n\r\n  const onLogin = useCallback(async () => {\r\n    onLoginStart && onLoginStart();\r\n    window.addEventListener('storage', onChangeLocalStorage, false);\r\n    const oauthUrl = `${TWITTER_URL}/i/oauth2/authorize?response_type=code&client_id=${client_id}&redirect_uri=${redirect_uri}&scope=${scope}&state=${state}&code_challenge=challenge&code_challenge_method=plain`;\r\n    const width = 450;\r\n    const height = 730;\r\n    const left = window.screen.width / 2 - width / 2;\r\n    const top = window.screen.height / 2 - height / 2;\r\n    window.open(\r\n      oauthUrl,\r\n      'twitter',\r\n      'menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=' +\r\n        width +\r\n        ', height=' +\r\n        height +\r\n        ', top=' +\r\n        top +\r\n        ', left=' +\r\n        left,\r\n    );\r\n  }, [\r\n    scope,\r\n    state,\r\n    client_id,\r\n    onLoginStart,\r\n    redirect_uri,\r\n    onChangeLocalStorage,\r\n  ]);\r\n\r\n  return (\r\n    <div className={className} onClick={onLogin}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(LoginSocialTwitter);\r\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","/* eslint-disable camelcase */\r\n/**\r\n *\r\n * LoginSocialGoogle\r\n *\r\n */\r\nimport React, { memo, useCallback, useEffect, useRef, useState } from 'react';\r\nimport { objectType, IResolveParams } from '../';\r\n\r\ninterface Props {\r\n  scope?: string;\r\n  client_id: string;\r\n  className?: string;\r\n  redirect_uri?: string;\r\n  children?: React.ReactNode;\r\n  onLoginStart?: () => void;\r\n  onReject: (reject: string | objectType) => void;\r\n  onResolve: ({ provider, data }: IResolveParams) => void;\r\n}\r\n\r\nconst JS_SRC =\r\n  'https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js';\r\nconst SCRIPT_ID = 'apple-login';\r\nconst _window = window as any;\r\n\r\nconst LoginSocialApple = ({\r\n  client_id,\r\n  scope = 'name email',\r\n  className = '',\r\n  onLoginStart,\r\n  onReject,\r\n  onResolve,\r\n  redirect_uri = '/',\r\n  children,\r\n}: // fetch_basic_profile = true,\r\nProps) => {\r\n  const scriptNodeRef = useRef<HTMLScriptElement>(null!);\r\n  const [isSdkLoaded, setIsSdkLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    !isSdkLoaded && load();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isSdkLoaded]);\r\n\r\n  useEffect(\r\n    () => () => {\r\n      if (scriptNodeRef.current) scriptNodeRef.current.remove();\r\n    },\r\n    [],\r\n  );\r\n\r\n  const checkIsExistsSDKScript = useCallback(() => {\r\n    return !!document.getElementById(SCRIPT_ID);\r\n  }, []);\r\n\r\n  const insertScript = useCallback(\r\n    (\r\n      d: HTMLDocument,\r\n      s: string = 'script',\r\n      id: string,\r\n      jsSrc: string,\r\n      cb: () => void,\r\n    ) => {\r\n      const appleScriptTag: any = d.createElement(s);\r\n      appleScriptTag.id = id;\r\n      appleScriptTag.src = jsSrc;\r\n      appleScriptTag.async = true;\r\n      appleScriptTag.defer = true;\r\n      const scriptNode = document.getElementsByTagName('script')![0];\r\n      scriptNodeRef.current = appleScriptTag;\r\n      scriptNode &&\r\n        scriptNode.parentNode &&\r\n        scriptNode.parentNode.insertBefore(appleScriptTag, scriptNode);\r\n      appleScriptTag.onload = cb;\r\n    },\r\n    [],\r\n  );\r\n\r\n  const handleResponse = useCallback(\r\n    (res: objectType) => {\r\n      if (res?.access_token) {\r\n        onResolve({\r\n          provider: 'apple',\r\n          data: res,\r\n        });\r\n      } else {\r\n        const data: objectType = res;\r\n        onResolve({\r\n          provider: 'apple',\r\n          data,\r\n        });\r\n      }\r\n    },\r\n    [onResolve],\r\n  );\r\n\r\n  const load = useCallback(() => {\r\n    if (checkIsExistsSDKScript()) {\r\n      setIsSdkLoaded(true);\r\n    } else {\r\n      insertScript(document, 'script', SCRIPT_ID, JS_SRC, () => {\r\n        const options = {\r\n          clientId: client_id, // This is the service ID we created.\r\n          scope, // To tell apple we want the user name and emails fields in the response it sends us.\r\n          redirectURI: redirect_uri, // As registered along with our service ID\r\n          state: 'origin:web', // Any string of your choice that you may use for some logic. It's optional and you may omit it.\r\n          usePopup: true, // Important if we want to capture the data apple sends on the client side.\r\n        };\r\n        _window.AppleID.auth.init(options);\r\n        setIsSdkLoaded(true);\r\n      });\r\n    }\r\n  }, [scope, client_id, redirect_uri, insertScript, checkIsExistsSDKScript]);\r\n\r\n  const loginApple = useCallback(async () => {\r\n    if (!isSdkLoaded) return;\r\n    if (!_window.AppleID) {\r\n      load();\r\n      onReject(\"Apple SDK isn't loaded!\");\r\n    } else {\r\n      onLoginStart && onLoginStart();\r\n      try {\r\n        const response = await _window.AppleID.auth.signIn();\r\n        handleResponse(response);\r\n      } catch (err) {\r\n        onReject({ err });\r\n      }\r\n    }\r\n  }, [handleResponse, isSdkLoaded, load, onLoginStart, onReject]);\r\n\r\n  return (\r\n    <div className={className} onClick={loginApple}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(LoginSocialApple);\r\n","/* eslint-disable camelcase */\r\n/**\r\n *\r\n * LoginSocialTiktok\r\n *\r\n */\r\n// import { PASS_CORS_KEY } from 'helper/constants';\r\nimport React, { memo, useCallback, useEffect } from 'react';\r\nimport { IResolveParams, objectType } from '..';\r\n\r\ninterface Props {\r\n  state?: string;\r\n  scope?: string;\r\n  client_key: string;\r\n  // client_secret: string;\r\n  className?: string;\r\n  redirect_uri: string;\r\n  // isOnlyGetToken?: boolean;\r\n  // isOnlyGetCode?: boolean;\r\n  children?: React.ReactNode;\r\n  onLoginStart?: () => void;\r\n  // onLogoutSuccess?: () => void;\r\n  onReject: (reject: string | objectType) => void;\r\n  onResolve: ({ provider, data }: IResolveParams) => void;\r\n}\r\n\r\nconst TIKTOK_URL: string = 'https://www.tiktok.com';\r\n// const TIKTOK_API_URL: string = 'https://open-api.tiktok.com';\r\n// const PREVENT_CORS_URL: string = 'https://cors.bridged.cc';\r\n\r\nexport const LoginSocialGithub = ({\r\n  state = '',\r\n  scope = 'user.info.basic',\r\n  client_key,\r\n  // client_secret,\r\n  className = '',\r\n  redirect_uri,\r\n  // isOnlyGetToken = false,\r\n  // isOnlyGetCode = false,\r\n  children,\r\n  // onReject,\r\n  onResolve,\r\n  onLoginStart,\r\n}: Props) => {\r\n  useEffect(() => {\r\n    const popupWindowURL = new URL(window.location.href);\r\n    const code = popupWindowURL.searchParams.get('code');\r\n    const state = popupWindowURL.searchParams.get('state');\r\n    if (state?.includes('_tiktok') && code) {\r\n      localStorage.setItem('tiktok', code);\r\n      window.close();\r\n    }\r\n  }, []);\r\n\r\n  // const getProfile = useCallback(\r\n  //   (data: objectType) => {\r\n  //     fetch(`${PREVENT_CORS_URL}/${TIKTOK_API_URL}/user`, {\r\n  //       method: 'GET',\r\n  //       headers: {\r\n  //         Authorization: `token ${data.access_token}`,\r\n  //         'x-cors-grida-api-key': PASS_CORS_KEY,\r\n  //       },\r\n  //     })\r\n  //       .then(res => res.json())\r\n  //       .then((response: any) => {\r\n  //         onResolve({ provider: 'tiktok', data: { ...response, ...data } });\r\n  //       })\r\n  //       .catch(err => {\r\n  //         onReject(err);\r\n  //       });\r\n  //   },\r\n  //   [onReject, onResolve],\r\n  // );\r\n\r\n  // const getAccessToken = useCallback(\r\n  //   (code: string) => {\r\n  //     if (isOnlyGetCode) onResolve({ provider: 'tiktok', data: { code } });\r\n  //     else {\r\n  //       const params = {\r\n  //         code,\r\n  //         client_key,\r\n  //         client_secret,\r\n  //         grant_type: 'authorization_code',\r\n  //       };\r\n  //       const headers = new Headers({\r\n  //         'Content-Type': 'application/x-www-form-urlencoded',\r\n  //         'x-cors-grida-api-key': PASS_CORS_KEY,\r\n  //       });\r\n\r\n  //       fetch(`${PREVENT_CORS_URL}/${TIKTOK_API_URL}/oauth/access_token/`, {\r\n  //         method: 'POST',\r\n  //         headers,\r\n  //         body: new URLSearchParams(params),\r\n  //       })\r\n  //         .then(response => response.text())\r\n  //         .then(response => {\r\n  //           console.log(response);\r\n  //           // const data: objectType = {};\r\n  //           // const searchParams: any = new URLSearchParams(response);\r\n  //           // for (const p of searchParams) {\r\n  //           //   data[p[0]] = p[1];\r\n  //           // }\r\n  //           // if (data.access_token) {\r\n  //           //   if (isOnlyGetToken) onResolve({ provider: 'tiktok', data });\r\n  //           //   else getProfile(data);\r\n  //           // } else onReject('no data');\r\n  //         })\r\n  //         .catch(err => {\r\n  //           onReject(err);\r\n  //         });\r\n  //     }\r\n  //   },\r\n  //   [onReject, onResolve, client_key, client_secret, isOnlyGetCode],\r\n  // );\r\n\r\n  const handlePostMessage = useCallback(\r\n    async ({ type, code, provider }: objectType) =>\r\n      type === 'code' &&\r\n      provider === 'tiktok' &&\r\n      code &&\r\n      onResolve({ provider: 'tiktok', data: { code } }),\r\n    // getAccessToken(code),\r\n    [onResolve],\r\n  );\r\n\r\n  const onChangeLocalStorage = useCallback(() => {\r\n    window.removeEventListener('storage', onChangeLocalStorage, false);\r\n    const code = localStorage.getItem('tiktok');\r\n    if (code) {\r\n      handlePostMessage({ provider: 'tiktok', type: 'code', code });\r\n      localStorage.removeItem('instagram');\r\n    }\r\n  }, [handlePostMessage]);\r\n\r\n  const onLogin = useCallback(() => {\r\n    onLoginStart && onLoginStart();\r\n\r\n    window.addEventListener('storage', onChangeLocalStorage, false);\r\n    const oauthUrl = `${TIKTOK_URL}/auth/authorize?client_key=${client_key}&scope=${scope}&state=${\r\n      state + '_tiktok'\r\n    }&redirect_uri=${redirect_uri}&response_type=code`;\r\n    const width = 450;\r\n    const height = 730;\r\n    const left = window.screen.width / 2 - width / 2;\r\n    const top = window.screen.height / 2 - height / 2;\r\n    window.open(\r\n      oauthUrl,\r\n      'Github',\r\n      'menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=' +\r\n        width +\r\n        ', height=' +\r\n        height +\r\n        ', top=' +\r\n        top +\r\n        ', left=' +\r\n        left,\r\n    );\r\n  }, [\r\n    scope,\r\n    state,\r\n    client_key,\r\n    redirect_uri,\r\n    onLoginStart,\r\n    onChangeLocalStorage,\r\n  ]);\r\n\r\n  return (\r\n    <div className={className} onClick={onLogin}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(LoginSocialGithub);\r\n"],"names":["window","state","client_id","className","redirect_uri","scope","isOnlyGetToken","onlyGetToken","scope_data","profile","essential","response_type","children","onReject","onResolve","onLoginStart","useRef","useState","isSdkLoaded","setIsSdkLoaded","useEffect","load","scriptNodeRef","current","remove","useCallback","document","getElementById","d","s","id","jsSrc","cb","createElement","ggScriptTag","src","async","defer","getElementsByTagName","scriptNode","parentNode","insertBefore","onload","res","fetch","headers","Authorization","access_token","then","data","json","provider","err","getUserInfo","checkIsExistsSDKScript","insertScriptGoogle","_window","amazon","Login","setClientId","authorize","error","handleError","handleResponse","onClick","onLogin","appId","configId","xfbml","cookie","version","language","auth_type","fieldsProfile","return_scopes","isProcessing","setIsProcessing","fbScriptTag","config","fbAsyncInit","FB","init","fbRoot","body","appendChild","authResponse","api","locale","fields","me","response","getMe","insertSDKScript","options","initFbSDK","login","loginFB","prompt","typeResponse","ux_mode","login_hint","access_type","auto_select","cookie_policy","hosted_domain","discoveryDocs","fetch_basic_profile","instance","setInstance","Content-Type","x-cors-grida-api-key","PREVENT_CORS_URL","method","credential","onGetMe","google","accounts","initialize","params","login_uri","callback","native_callback","error_callback","immediate","client","oauth2","initCodeClient","payload","initTokenClient","requestCode","requestAccessToken","loginGoogle","client_secret","allow_signup","isOnlyGetCode","location","href","popupWindowURL","searchParams","get","includes","code","localStorage","setItem","close","text","p","getProfile","type","getAccessToken","removeEventListener","onChangeLocalStorage","getItem","handlePostMessage","removeItem","addEventListener","screen","width","height","open","GITHUB_URL","top","left","grant_type","INSTAGRAM_URL","tenant","response_mode","code_challenge","code_challenge_method","MICROSOFT_API_URL","code_verifier","MICROSOFT_URL","encodeURIComponent","LINKEDIN_API_URL","contents","JSON","parse","Object","entries","map","LINKEDIN_URL","property","details","formBody","push","encodedKey","encodedValue","join","btoa","PINTEREST_URL","TWITTER_URL","Symbol","iterator","asyncIterator","appleScriptTag","insertScript","AppleID","auth","clientId","redirectURI","usePopup","recover","result","signIn","e","loginApple","client_key","TIKTOK_URL"],"mappings":"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"}